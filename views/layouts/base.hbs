<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  {{!-- Boxicons CSS --}}
  <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>

  <!--My CSS -->
  <link rel="stylesheet" href="/style/base.css">

  {{#block 'css'}}{{/block}}

  <title>Hello, world!</title>
</head>

<body>

  <div class="sideNavBar">
    <div class="logo-container">
      <i class="bx bxl-c-plus-plus"></i>
      <span class="logo-name">KicksCity</span>
    </div>
    <ul class="nav-links">
      <li>
        <a href="/products">
          <i class="bx bx-grid-alt"></i>
          <span class="link-name">Products</span>
        </a>
        <ul class="sub-menu empty">Products</ul>
      </li>
      <li>
        <div class="icon-link">
          <a href="/products/create">
            <i class="bx bx-grid-alt"></i>
            <span class="link-name">Create</span>
          </a>
          <i class="bx bxs-chevron-down arrow"></i>
        </div>
        <ul class="sub-menu">
          <li><a class="link-name" href="#">Create</a></li>
          <li><a href="#">Hello</a></li>
          <li><a href="#">Bye</a></li>
        </ul>
      </li>
    </ul>
    <li>
      <div class="user-details">
        <div class="user-content">
          <i class="bx bxs-chevron-down"></i> 
          <span class="username">User Name</span>
          <i class="bx bx-log-out"></i>

        </div>
      </div>
    </li>
  </div>
  <div class="home-section">
    <div class="home-content">
      <i class="bx bx-menu"></i>
      <span class="text">Drop Down Sidebar</span>
    </div>
  </div>

  <div class="container">
    {{#if success_messages }}
    {{#each success_messages}}
    <div class="alert alert-success">
      {{this}}
    </div>
    {{/each}}
    {{/if}}

    {{#if error_messages}}
    {{#each error_messages}}
    <div class="alert alert-danger">
      {{this}}
    </div>
    {{/each}}

    {{/if}}
    <div style="height:100px"></div>
    {{#block 'content'}}{{/block}}
  </div>

  <!-- Optional JavaScript; choose one of the two! -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  
  <script>

  let arrow = document.querySelectorAll('.arrow');
  for (let i = 0; i < arrow.length; i++) {
    arrow[i].addEventListener('click', (e)=> {
      let arrowParent = e.target.parentElement.parentElement
      arrowParent.classList.toggle("showMenu")
    })
  }

  let sidebar = document.querySelector(".sideNavBar")
  let sidebarBtn = document.querySelector(".bx-menu")
  let userDetails = document.querySelector(".user-details")
  sidebarBtn.addEventListener('click', ()=>{
    sidebar.classList.toggle('close')
    userDetails.classList.toggle('close')
  })

  </script>

  {{#block 'js'}}{{/block}}
</body>

</html>